"use strict";(self.webpackChunkmonitoring=self.webpackChunkmonitoring||[]).push([[628],{628:(mi,Fe,g)=>{g.r(Fe),g.d(Fe,{MonitoringMapModule:()=>fi});var M=g(583),Ne=g(630),o=g(639);const Ht=["mapElement"];let Ie=(()=>{class t{constructor(){this.lat=51.4532988403089,this.lng=-.15141399330019756,this.zoom=11}ngOnInit(){}ngAfterViewInit(){this.map=new window.google.maps.Map(this.mapElement.nativeElement,{center:{lat:this.lat,lng:this.lng},zoom:this.zoom,disableDefaultUI:!0,styles:[{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]}]})}getMap(){return this.map}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-map"]],viewQuery:function(e,i){if(1&e&&o.Gf(Ht,5),2&e){let r;o.iGM(r=o.CRH())&&(i.mapElement=r.first)}},inputs:{lat:"lat",lng:"lng",zoom:"zoom"},decls:2,vars:0,consts:[[1,"map-css"],["mapElement",""]],template:function(e,i){1&e&&o._UZ(0,"div",0,1)},styles:[".map-css{width:100%;height:100vh}.gm-ui-hover-effect{top:0px!important;right:0px!important}.tower-marker-label{font-size:10px!important}.tower-info{display:grid;grid-template-columns:20px 180px 20px;grid-template-rows:auto;grid-column-gap:10px;column-gap:10px}.tower-info .hidden{visibility:hidden}.tower-info .prev-tower{grid-column:1/2;grid-row:1/2;display:flex;justify-content:flex-start;align-items:center;width:100%;height:100%;opacity:.3;cursor:pointer}.tower-info .prev-tower.disabled{cursor:default;opacity:.1}.tower-info .prev-tower:hover{opacity:.5}.tower-info .next-tower{grid-column:3/4;grid-row:1/2;display:flex;justify-content:flex-end;align-items:center;width:100%;height:100%;opacity:.3;cursor:pointer}.tower-info .next-tower.disabled{cursor:default;opacity:.1}.tower-info .next-tower:hover{opacity:.5}.tower-info .count{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;position:absolute;top:0px;left:10px;width:80px;height:30px}.tower-info .content{grid-column:2/3;grid-row:1/2;margin:0 auto 10px;width:100%;height:100%;box-sizing:border-box;padding:5px 0}.tower-info .content .info{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%;margin:3px auto}.tower-info .content .name{display:flex;justify-content:center;align-items:center;margin-bottom:1px}.tower-info .content .name .value{text-align:center;margin-bottom:10px;font-size:16px}.tower-info .content .value{margin-left:5px}.tower-info .content .unit{margin-left:2px}\n"],encapsulation:2,changeDetection:0}),t})();class $t{constructor(n,e,i){this.lat=n,this.lng=e,this.towers=i}}class K{constructor(n,e,i,r){this.name=n,this.height=e,this.power=i,this.coverage=r}getIconSize(){return this.height>200?35:this.height>100?30:25}static getThreshold(n){let e=50;return e=n<7?50:7===n?10:8===n?1:9===n?.1:10===n?.05:11===n?.001:0,e}}let c=(()=>{class t{static getTowerIcon(e){return{url:t.towerIcon,scaledSize:new window.google.maps.Size(e,e),labelOrigin:new window.google.maps.Point(e/2,e+10)}}static getCircleOptions(){return{fillOpacity:.5,strokeOpacity:1}}static getTowerInfoDiv(e,i){const r=document.createElement("div");r.classList.add("tower-info");const s=document.createElement("div");s.classList.add("prev-tower"),s.addEventListener("click",()=>{const d=document.getElementById("currentTower"),f=null==d?void 0:d.textContent;if(f){let m=parseInt(f)-1;m<1&&(m=e.towers.length);const C=document.querySelectorAll('*[id^="tower-"]');C.forEach(u=>u.classList.add("hidden"));for(let u=0;u<C.length;u++)if(u+1===m&&d){for(C[u].classList.remove("hidden");d.firstChild;)d.removeChild(d.firstChild);d.innerHTML=m.toString()}}});const a=document.createElement("img");a.src=this.prevTowerIcon,s.appendChild(a);const l=document.createElement("div");l.classList.add("next-tower"),l.addEventListener("click",()=>{const d=document.getElementById("currentTower"),f=null==d?void 0:d.textContent;if(f){let m=parseInt(f)+1;m>e.towers.length&&(m=1);const C=document.querySelectorAll('*[id^="tower-"]');C.forEach(u=>u.classList.add("hidden"));for(let u=0;u<C.length;u++)if(u+1===m&&d){for(C[u].classList.remove("hidden");d.firstChild;)d.removeChild(d.firstChild);d.innerHTML=m.toString()}}});const _=document.createElement("img");_.src=this.nextTowerIcon,l.appendChild(_);const y=document.createElement("div");y.classList.add("count");const v=document.createElement("div");v.classList.add("current-tower"),v.innerText="1",v.id="currentTower";const N=document.createElement("div");N.classList.add("slash"),N.innerText="/";const I=document.createElement("div");I.classList.add("total-towers"),I.innerText=e.towers.length.toString(),y.appendChild(v),y.appendChild(N),y.appendChild(I),r.appendChild(y),r.appendChild(s);for(let d=0;d<e.towers.length;d++){const f=document.createElement("div");f.classList.add("content"),d>0&&f.classList.add("hidden"),f.id="tower-"+(d+1);const E=e.towers[d],m=document.createElement("div");m.classList.add("info","name");const C=document.createElement("div");C.classList.add("value"),C.innerText=E.name,m.appendChild(C);const u=document.createElement("div");u.classList.add("info","height");const Ae=document.createElement("div");Ae.classList.add("label"),Ae.innerText="Tower height:";const xe=document.createElement("div");xe.classList.add("value"),xe.innerText=E.height.toString();const Se=document.createElement("div");Se.classList.add("unit"),Se.innerText="m",u.appendChild(Ae),u.appendChild(xe),u.appendChild(Se);const G=document.createElement("div");G.classList.add("info","power");const ke=document.createElement("div");ke.classList.add("label"),ke.innerText="Transmitter power:";const Ee=document.createElement("div");Ee.classList.add("value"),Ee.innerText=E.power.toString();const Pe=document.createElement("div");Pe.classList.add("unit"),Pe.innerText="kw",G.appendChild(ke),G.appendChild(Ee),G.appendChild(Pe);const Z=document.createElement("div");Z.classList.add("info","coverage");const De=document.createElement("div");De.classList.add("label"),De.innerText="Network coverage:";const Le=document.createElement("div");Le.classList.add("value"),Le.innerText=E.coverage.toString();const Te=document.createElement("div");Te.classList.add("unit"),Te.innerText="kw",Z.appendChild(De),Z.appendChild(Le),Z.appendChild(Te),f.appendChild(m),f.appendChild(u),f.appendChild(G),f.appendChild(Z),r.appendChild(f)}return r.appendChild(l),r}static getHeatmapOpacity(e){return e<10?.5:10===e?.55:11===e?.6:12===e?.65:13===e?.7:14===e?.75:1}static getPosition(e,i){return new window.google.maps.LatLng(e,i)}static getBoundsCords(e){const i=e.getNorthEast(),r=e.getSouthWest(),s=i.lat(),a=r.lat(),l=i.lng();return{minLat:a,maxLat:s,minLng:r.lng(),maxLng:l}}static consoleLogBounds(e){const i=e.getNorthEast(),r=e.getSouthWest();console.log("bounds: ",r.lat(),i.lat(),r.lng(),i.lng())}}return t.towerIcon="assets/icons/signal_black_light.png",t.prevTowerIcon="assets/icons/chevron_left_black.svg",t.nextTowerIcon="assets/icons/chevron_right_black.svg",t.SAMPLES_COUNT=10,t.ANIMATION_OPERATION="ANIMATION",t.AVAILABILITY_ALL_LAYERS="AVAILABILITY",t.OCCUPANCY_ALL_LAYERS="OCCUPANCY",t})();var Q=g(49),Ge=g(841),P=g(215);class Jt{constructor(n,e,i,r){this.tower=n,this.coverage=e,this.availability=i,this.occupancy=r}}let S=(()=>{class t{constructor(){this.keyOptions=new Jt(!0,!1,!1,!1),this.optionsChanged$=new P.X({tower:!0,coverage:!1,availability:!1,occupancy:!1})}setTower(e){this.keyOptions.tower=e,this.optionsChanged$.next(this.keyOptions)}setCoverage(e){this.keyOptions.coverage=e,this.optionsChanged$.next(this.keyOptions)}setAvailability(e){this.keyOptions.availability=e,this.optionsChanged$.next(this.keyOptions)}setOccupancy(e){this.keyOptions.occupancy=e,this.optionsChanged$.next(this.keyOptions)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wt=(()=>{class t{constructor(e,i){this.http=e,this.keyOptionsService=i,this.locations=[],this.markers=[],this.locationsInitialized=!1,this.circlesInitialized=!1,this.coverageCheck=!1,this.http.get("assets/data/towers.json").pipe((0,Q.P)()).subscribe(r=>{r.forEach(s=>{const a=this.locations.find(l=>l.lat===s.lat&&l.lng===s.lng);a?a.towers.push(new K(s.name,s.height,s.power,s.coverage)):this.locations.push(new $t(s.lat,s.lng,[new K(s.name,s.height,s.power,s.coverage)]))}),this.initLocations(),this.map&&this.loadLocations(this.map.getZoom(),this.map.getBounds())}),this.keyOptionsService.optionsChanged$.subscribe(r=>this.coverageCheck=r.coverage)}setMap(e){this.map=e}setLocations(e){this.locations=e.slice()}getMaxCoverage(e){let i=0;for(let r=0;r<e.length;r++)e[r].coverage>i&&(i=e[r].coverage);return i}initLocations(){this.locationsInitialized||this.map&&this.locations&&this.locations.length>0&&this.locations.forEach(e=>{const i=c.getTowerIcon(e.towers[0].getIconSize()),r=new window.google.maps.Marker({position:new window.google.maps.LatLng(e.lat,e.lng),icon:i,map:null,title:e.towers.length>1?e.towers[0].name+"*":e.towers[0].name,label:{text:e.towers.length>1?e.towers[0].name+"*":e.towers[0].name,className:"tower-marker-label"}});this.getInfoWindow(e,r),this.markers.push({location:e,marker:r,circle:null,visible:!1}),this.locationsInitialized=!0})}initCircles(){!this.locationsInitialized||this.circlesInitialized||(this.markers.forEach(e=>{e.circle=this.drawCircle(this.getMaxCoverage(e.location.towers),c.getPosition(e.location.lat,e.location.lng)),e.visible||e.circle.setOptions({fillOpacity:0,strokeOpacity:0})}),this.circlesInitialized=!0)}loadCircles(){this.circlesInitialized&&(this.map.getBounds(),this.markers.forEach(i=>{i.circle&&i.visible&&i.circle.setOptions({fillOpacity:.5,strokeOpacity:1})}))}clearCirlces(){!this.circlesInitialized||this.markers.forEach(e=>{e.circle.setOptions({fillOpacity:0,strokeOpacity:0})})}drawCircle(e,i){return new window.google.maps.Circle({map:this.map,radius:100*e,strokeColor:"blue",strokeOpacity:0,strokeWeight:1,fillColor:"lightblue",fillOpacity:0,center:i})}getInfoWindow(e,i){const r=new window.google.maps.InfoWindow({content:c.getTowerInfoDiv(e,i),opened:!1});r.addListener("closeclick",()=>{r.opened=!1}),i.addListener("click",()=>{if(r.opened)return r.close(),void(r.opened=!1);r.open({anchor:i,map:this.map,shouldFocus:!1}),r.opened=!0})}loadLocations(e,i){if(this.valid())if(this.markers.forEach(r=>{r.visible=!1,r.marker.setMap(null),r.circle&&this.coverageCheck&&r.circle.setOptions({fillOpacity:0,strokeOpacity:0})}),i&&e<7){let r=200;this.markers.filter(s=>i.contains(s.marker.getPosition())&&s.location.towers[0].power>=r).forEach(s=>{if(s.visible=!0,s.marker.setMap(this.map),s.circle&&this.coverageCheck){const a=c.getCircleOptions();s.circle.setOptions({fillOpacity:a.fillOpacity,strokeOpacity:a.strokeOpacity})}})}else if(i){let r=K.getThreshold(e);this.markers.filter(s=>i.contains(s.marker.getPosition())&&s.location.towers[0].power>=r).forEach(s=>{if(s.visible=!0,s.marker.setMap(this.map),s.circle&&this.coverageCheck){const a=c.getCircleOptions();s.circle.setOptions({fillOpacity:a.fillOpacity,strokeOpacity:a.strokeOpacity})}})}}clearLocations(){this.markers.forEach(e=>{e.marker.setMap(null),e.visible=!1,e.circle&&e.circle.setOptions({fillOpacity:0,strokeOpacity:0})})}valid(){return this.locationsInitialized&&this.map&&this.locations&&this.locations.length>0}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ge.eN),o.LFG(S))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var X=g(709);class Ze{constructor(n,e,i,r,s){this.heatmap=n,this.heatmapData=e,this.loaded=i,this.visible=r,this.gradient=s}show(){this.visible=!0,this.heatmap.set("opacity",1)}hide(){this.visible=!1,this.loaded&&this.heatmap.set("opacity",0)}load(n,e,i=!1){let r=0;i&&(r=1);for(let s=0;s<e.length;s++){const a=e[s];this.heatmapData.push({location:c.getPosition(a.lat,a.lng),weight:a.weight/10})}this.heatmap=new window.google.maps.visualization.HeatmapLayer({data:this.heatmapData,radius:15,map:n,opacity:r,gradient:this.gradient}),this.loaded=!0}}let Be=(()=>{class t{constructor(e){this.http=e}getSpectrums(e=0){return this.http.get(`assets/data/availability-${e+1}.json`)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Ge.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),B=(()=>{class t{constructor(e){this.spectrumService=e,this.layers=[],this.allLayersLoaded=!1,this.allLayersLoaded$=new X.xQ,this.startedLoadingAllLayers=!1,this.loadedLayersCount=0;for(let i=0;i<c.SAMPLES_COUNT;i++)this.layers.push(new Ze(null,[],!1,!1,this.getGradient()))}loadAllLayers(){if(!this.allLayersLoaded){this.startedLoadingAllLayers=!0;for(let e=0;e<c.SAMPLES_COUNT;e++)this.loadLayer(e)}}loadFirstLayer(){this.loadLayer(0,!0)}clearFirstLayer(){this.clearLayer(0)}clearAllLayers(){this.layers.forEach(e=>e.hide())}clearLayer(e){this.layers[e].hide()}loadLayer(e,i=!1){if(!this.map||!this.bounds)return;const r=this.layers[e];r.loaded?r.show():this.spectrumService.getSpectrums(e).pipe((0,Q.P)()).subscribe(s=>{const a=s.map(l=>({weight:l.avl,lat:l.lat,lng:l.lng}));r.load(this.map,a,i),this.startedLoadingAllLayers&&(this.loadedLayersCount++,this.loadedLayersCount===c.SAMPLES_COUNT-1&&(this.allLayersLoaded=!0,this.allLayersLoaded$.next(),this.startedLoadingAllLayers=!1))},s=>console.log(s))}getGradient(){return["rgba(102, 255, 0, 0)","rgba(102, 255, 0, 1)","rgba(147, 255, 0, 1)","rgba(193, 255, 0, 1)","rgba(238, 255, 0, 1)","rgba(244, 227, 0, 1)","rgba(249, 198, 0, 1)","rgba(255, 170, 0, 1)","rgba(255, 113, 0, 1)","rgba(255, 57, 0, 1)","rgba(255, 0, 0, 1)"]}setMap(e){this.map=e}setBounds(e){this.bounds=e}setZoom(e){this.zoom=e}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Be))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ee=(()=>{class t{constructor(e){this.spectrumService=e,this.layers=[],this.allLayersLoaded=!1,this.allLayersLoaded$=new X.xQ,this.startedLoadingAllLayers=!1,this.loadedLayersCount=0;for(let i=0;i<c.SAMPLES_COUNT;i++)this.layers.push(new Ze(null,[],!1,!1,this.getGradient()))}loadAllLayers(){if(!this.allLayersLoaded){this.startedLoadingAllLayers=!0;for(let e=0;e<c.SAMPLES_COUNT;e++)this.loadLayer(e)}}loadFirstLayer(){this.loadLayer(0,!0)}clearFirstLayer(){this.clearLayer(0)}clearAllLayers(){this.layers.forEach(e=>e.hide())}clearLayer(e){this.layers[e].hide()}loadLayer(e,i=!1){if(!this.map||!this.bounds)return;const r=this.layers[e];r.loaded?r.show():this.spectrumService.getSpectrums(e).pipe((0,Q.P)()).subscribe(s=>{const a=s.map(l=>({weight:l.ocp,lat:l.lat,lng:l.lng}));r.load(this.map,a,i),this.startedLoadingAllLayers&&(this.loadedLayersCount++,this.loadedLayersCount===c.SAMPLES_COUNT-1&&(this.allLayersLoaded=!0,this.allLayersLoaded$.next(),this.startedLoadingAllLayers=!1))},s=>console.log(s))}getGradient(){return["rgba(102, 0, 255, 0)","rgba(102, 0, 255, 1)","rgba(147, 0, 255, 1)","rgba(193, 0, 255, 1)","rgba(238, 0, 255, 1)","rgba(244, 227, 0, 1)","rgba(249, 198, 0, 1)","rgba(255, 170, 0, 1)","rgba(255, 113, 0, 1)","rgba(255, 57, 0, 1)","rgba(255, 0, 0, 1)"]}setMap(e){this.map=e}setBounds(e){this.bounds=e}setZoom(e){this.zoom=e}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Be))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Re=(()=>{class t{constructor(){this.positionChanged$=new P.X(0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),te=(()=>{class t{constructor(){this.operations=[],this.loadOperation$=new X.xQ}startLoading(e){let i=this.operations.find(r=>r.id===e);i||(i=new Kt(e,!0),this.operations.push(i),this.loadOperation$.next(i))}stopLoading(e){const i=this.operations.findIndex(r=>r.id===e);if(-1!==i){const r=this.operations[i];r.loading=!1,this.loadOperation$.next(r),this.operations.splice(i,1)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Kt{constructor(n,e){this.id=n,this.loading=e}}let Ue=(()=>{class t{constructor(e,i,r,s,a){this.timelineService=e,this.keyOptionsService=i,this.availabilityService=r,this.occupancyService=s,this.loadingService=a,this.position=0,this.speed=3,this.started=!1,this.animationStarted$=new P.X(this.started),this.speedChanged$=new P.X(this.speed),this.index=1,this.indexChanged$=new P.X(1),this.timelineService.positionChanged$.subscribe(l=>this.position=l),this.keyOptionsService.optionsChanged$.subscribe(l=>this.options=l),this.availabilityService.allLayersLoaded$.subscribe(()=>{this.loadingService.stopLoading(c.AVAILABILITY_ALL_LAYERS)}),this.occupancyService.allLayersLoaded$.subscribe(()=>{this.loadingService.stopLoading(c.OCCUPANCY_ALL_LAYERS)}),this.loadingService.loadOperation$.subscribe(l=>{(l.id===c.AVAILABILITY_ALL_LAYERS||l.id===c.OCCUPANCY_ALL_LAYERS)&&!1===l.loading&&this.animateMap()})}startAnimation(){this.started=!0,this.options.availability&&(this.availabilityService.allLayersLoaded?this.animateMap():(this.loadingService.startLoading(c.AVAILABILITY_ALL_LAYERS),this.availabilityService.loadAllLayers())),this.options.occupancy&&(this.occupancyService.allLayersLoaded?this.animateMap():(this.loadingService.startLoading(c.OCCUPANCY_ALL_LAYERS),this.occupancyService.loadAllLayers())),this.animationStarted$.next(this.started)}setIndex(e){this.indexChanged$.next(e)}stopAnimation(){this.started=!1,clearInterval(this.animationInterval),this.animationStarted$.next(this.started)}setSpeed(e){this.speed!=e&&(this.speed=e,this.animationInterval&&this.animateMap(),this.speedChanged$.next(e))}animateMap(){clearInterval(this.animationInterval),this.animationInterval=setInterval(()=>{this.loadFrame()},1e3*this.speed)}loadFrame(){if(this.index++,this.index===c.SAMPLES_COUNT&&(this.index=0),this.options.availability){let e=this.index-1;e<0&&(e=c.SAMPLES_COUNT-1),this.availabilityService.clearLayer(e),this.availabilityService.loadLayer(this.index)}if(this.options.occupancy){let e=this.index-1;e<0&&(e=c.SAMPLES_COUNT-1),this.occupancyService.clearLayer(e),this.occupancyService.loadLayer(this.index)}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Re),o.LFG(S),o.LFG(B),o.LFG(ee),o.LFG(te))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Qt=(()=>{class t{constructor(){this.lat=51.4532988403089,this.lng=-.15141399330019756,this.keepMoving=!1}keepMovingUp(){this.keepMoving||(this.keepMoving=!0,this.panMap(0,this.getPanStep()))}keepMovingDown(){this.keepMoving||(this.keepMoving=!0,this.panMap(0,-1*this.getPanStep()))}keepMovingRight(){this.keepMoving||(this.keepMoving=!0,this.panMap(this.getPanStep(),0))}keepMovingLeft(){this.keepMoving||(this.keepMoving=!0,this.panMap(-1*this.getPanStep(),0))}stopMoving(){this.keepMoving=!1}panMap(e,i){!this.keepMoving||!this.map||(this.lat=this.lat+i,this.lng=this.lng+e,this.map.panTo({lat:this.lat,lng:this.lng}),setTimeout(()=>{this.panMap.bind(this),this.panMap(e,i)},50))}getPanStep(){return.01}setMap(e){this.map=e}getLat(){return this.lat}getLng(){return this.lng}setLat(e){this.lat=e}setLng(e){this.lng=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Xt=(()=>{class t{constructor(){this.zoomStep=1}zoomIn(){this.zoomMap(this.zoomStep)}zoomOut(){this.zoomMap(-1*this.zoomStep)}zoomMap(e){if(!this.map)return;const i=this.map.getZoom()+e;i>=0&&i<23&&this.map.setZoom(i)}setMap(e){this.map=e}getZoom(){return this.map.getZoom()}setZoom(e){this.map.setZoom(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ne=(()=>{class t{constructor(){this.id="",this.check=!0,this.checked=new o.vpe,this.disabled=!1,this.label="",this.sub=!1}ngOnInit(){}onChange(e){this.check=e,this.checked.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-checkbox"]],inputs:{id:"id",check:"check",disabled:"disabled",label:"label",sub:"sub"},outputs:{checked:"checked"},decls:4,vars:9,consts:[[1,"container"],["type","checkbox",3,"id","disabled","checked","change"],[3,"for","click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"input",1),o.NdJ("change",function(s){return i.onChange(s.target.checked)}),o.qZA(),o.TgZ(2,"label",2),o.NdJ("click",function(){return i.onChange(!i.check)}),o._uU(3),o.qZA(),o.qZA()),2&e&&(o.ekj("sub",i.sub),o.xp6(1),o.Q6J("id",i.id)("disabled",i.disabled)("checked",i.check),o.xp6(1),o.ekj("disabled",i.disabled),o.Q6J("for",i.id),o.xp6(1),o.hij(" ",i.label," "))},styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{font-family:sans-serif;width:100%;color:#00f;font-weight:bold;font-size:18px;margin-left:10px;margin-top:10px;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:white;border-radius:2px;box-sizing:border-box;position:relative;box-sizing:content-box;width:21px;height:21px;border-width:1px;transition:all 50ms linear;border-color:#6b90df;border-style:solid}.container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#067eb3}.container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus{box-shadow:none}.container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled{background-color:#ececec;cursor:default}.container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked:after{content:"\\2714";text-align:center;margin:0 auto;color:#fff;top:-1px;left:4px;position:absolute;font-size:16px}.container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:after{content:"";text-align:center;margin:0 auto;color:#fff;top:-1px;left:4px;position:absolute;font-size:16px;cursor:default}.container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;margin-top:-2px;cursor:pointer}.container[_ngcontent-%COMP%]   label.disabled[_ngcontent-%COMP%]{color:#8d8dd3;cursor:default}.container.sub[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;margin-top:0}']}),t})(),en=(()=>{class t{constructor(e){this.keyOptionsService=e,this.check=!0,this.networkCoverageCheck=!0}ngOnInit(){this.keyOptionsService.optionsChanged$.subscribe(e=>{this.check=e.tower,this.networkCoverageCheck=e.coverage})}onCheck(e){this.check=e}onNetworkCoverageCheck(e){this.networkCoverageCheck=e,this.keyOptionsService.setCoverage(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(S))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-tower-key"]],decls:3,vars:4,consts:[["label","Tower","id","towerChecked",3,"check","checked"],[1,"sub"],["label","Network Coverage","id","networkCoverageCheck",3,"sub","disabled","check","checked"]],template:function(e,i){1&e&&(o.TgZ(0,"app-checkbox",0),o.NdJ("checked",function(s){return i.onCheck(s)}),o.qZA(),o.TgZ(1,"div",1),o.TgZ(2,"app-checkbox",2),o.NdJ("checked",function(s){return i.onNetworkCoverageCheck(s)}),o.qZA(),o.qZA()),2&e&&(o.Q6J("check",i.check),o.xp6(2),o.Q6J("sub",!0)("disabled",!i.check)("check",i.networkCoverageCheck))},directives:[ne],styles:[".sub[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;margin-left:30px}.sub[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.sub[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#00f;font-family:sans-serif;cursor:pointer}"]}),t})(),ze=(()=>{class t{constructor(){this.gradient=[]}ngOnInit(){}getBackground(){if(this.gradient.length<1)return"";let e="linear-gradient(to right,";return this.gradient.forEach(i=>{e+=i+", "}),e=e.substr(0,e.length-2),e+=")",e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-gradient-rectangle"]],inputs:{gradient:"gradient"},decls:1,vars:2,consts:[[1,"container"]],template:function(e,i){1&e&&o._UZ(0,"div",0),2&e&&o.Udp("background",i.getBackground())},styles:[".container[_ngcontent-%COMP%]{width:100%;height:30px;border:1px solid blue}"]}),t})();function tn(t,n){if(1&t&&o._UZ(0,"app-gradient-rectangle",2),2&t){const e=o.oxw();o.Q6J("gradient",e.gradient)}}let nn=(()=>{class t{constructor(e,i){this.availabilityService=e,this.keyOptionsService=i,this.gradient=[],this.check=!1}ngOnInit(){this.gradient=this.availabilityService.getGradient().reverse(),this.sub=this.keyOptionsService.optionsChanged$.subscribe(e=>this.check=e.availability)}onCheck(e){this.check=e,this.keyOptionsService.setAvailability(e)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(B),o.Y36(S))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-availability-key"]],decls:2,vars:2,consts:[["label","Availability","id","availability-check",3,"check","checked"],[3,"gradient",4,"ngIf"],[3,"gradient"]],template:function(e,i){1&e&&(o.TgZ(0,"app-checkbox",0),o.NdJ("checked",function(s){return i.onCheck(s)}),o.qZA(),o.YNc(1,tn,1,1,"app-gradient-rectangle",1)),2&e&&(o.Q6J("check",i.check),o.xp6(1),o.Q6J("ngIf",i.check))},directives:[ne,M.O5,ze],styles:["app-gradient-rectangle[_ngcontent-%COMP%]{margin-left:45px;margin-right:14px;display:block;opacity:.5}"]}),t})();function on(t,n){if(1&t&&o._UZ(0,"app-gradient-rectangle",2),2&t){const e=o.oxw();o.Q6J("gradient",e.gradient)}}let rn=(()=>{class t{constructor(e,i){this.occupancyService=e,this.keyOptionsService=i,this.gradient=[],this.check=!1}ngOnInit(){this.gradient=this.occupancyService.getGradient().reverse(),this.sub=this.keyOptionsService.optionsChanged$.subscribe(e=>this.check=e.occupancy)}onCheck(e){this.check=e,this.keyOptionsService.setOccupancy(e)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ee),o.Y36(S))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-occupancy-key"]],decls:2,vars:2,consts:[["label","Occupancy","id","occupancy-check",3,"check","checked"],[3,"gradient",4,"ngIf"],[3,"gradient"]],template:function(e,i){1&e&&(o.TgZ(0,"app-checkbox",0),o.NdJ("checked",function(s){return i.onCheck(s)}),o.qZA(),o.YNc(1,on,1,1,"app-gradient-rectangle",1)),2&e&&(o.Q6J("check",i.check),o.xp6(1),o.Q6J("ngIf",i.check))},directives:[ne,M.O5,ze],styles:["app-gradient-rectangle[_ngcontent-%COMP%]{margin-left:45px;margin-right:14px;display:block;opacity:.5}"]}),t})();function sn(t,n){1&t&&o._UZ(0,"app-tower-key")}function an(t,n){1&t&&o._UZ(0,"app-availability-key")}function ln(t,n){1&t&&o._UZ(0,"app-occupancy-key")}const qe=function(t){return{hidden:t}};let cn=(()=>{class t{constructor(e){this.availabilityService=e,this.open=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(B))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-key-options"]],decls:16,vars:9,consts:[[1,"show-key-options",3,"ngClass","click"],["src","assets/icons/expand_more.svg"],[1,"container",3,"ngClass"],[1,"key-options"],[4,"ngIf"],[1,"divider"],[1,"hide-key-options",3,"click"],["src","assets/icons/expand_less.svg"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return i.open=!0}),o.TgZ(1,"div"),o._uU(2," Key & options "),o.qZA(),o._UZ(3,"img",1),o.qZA(),o.TgZ(4,"div",2),o.TgZ(5,"div",3),o.YNc(6,sn,1,0,"app-tower-key",4),o._UZ(7,"hr",5),o.YNc(8,an,1,0,"app-availability-key",4),o._UZ(9,"hr",5),o.YNc(10,ln,1,0,"app-occupancy-key",4),o._UZ(11,"hr",5),o.qZA(),o.TgZ(12,"div",6),o.NdJ("click",function(){return i.open=!1}),o.TgZ(13,"div"),o._uU(14," Hide key & options "),o.qZA(),o._UZ(15,"img",7),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngClass",o.VKq(5,qe,i.open)),o.xp6(4),o.Q6J("ngClass",o.VKq(7,qe,!i.open)),o.xp6(2),o.Q6J("ngIf",i.open),o.xp6(2),o.Q6J("ngIf",i.open),o.xp6(2),o.Q6J("ngIf",i.open))},directives:[M.mk,M.O5,en,nn,rn],styles:[".show-key-options[_ngcontent-%COMP%]{width:160px;height:30px;background-color:#067eb3;cursor:pointer;display:flex;justify-content:space-evenly;align-items:center;color:#fff;font-family:Arial,Helvetica,sans-serif;border-radius:2px;padding:5px;box-sizing:border-box}.show-key-options[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.hidden[_ngcontent-%COMP%]{height:0px;width:0px;visibility:hidden}.container[_ngcontent-%COMP%]{width:300px;height:520px;background-color:#ece7fffc;border-radius:2px;position:relative;overflow-y:auto;overflow-x:hidden;box-sizing:border-box;display:flex;flex-direction:column;border:1px solid gray}.container[_ngcontent-%COMP%]   .key-options[_ngcontent-%COMP%]{width:100%;height:calc(100% - 30px);padding-bottom:20px;border-radius:2px;position:relative;overflow-y:auto;overflow-x:hidden;box-sizing:border-box}.container[_ngcontent-%COMP%]   .hide-key-options[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:30px;display:flex;justify-content:space-between;align-items:center;background-color:#067eb3;color:#fff;font-family:Arial,Helvetica,sans-serif;padding:5px 10px;cursor:pointer;border-bottom-left-radius:2px;border-bottom-right-radius:2px;position:absolute;bottom:0px;left:0px}.container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:sans-serif;width:100%;color:#00f;font-weight:bold;font-size:18px;margin-left:10px;margin-top:10px;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;cursor:pointer}.container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:5px;margin-top:-2px;cursor:pointer}.container[_ngcontent-%COMP%]   .frequency[_ngcontent-%COMP%]{height:140px}.container[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:90%;margin:10px auto;color:#d3d3d3;opacity:.5}"],changeDetection:0}),t})(),dn=(()=>{class t{constructor(){this.up=new o.vpe,this.down=new o.vpe,this.right=new o.vpe,this.left=new o.vpe,this.zoomIn=new o.vpe,this.zoomOut=new o.vpe}ngOnInit(){}moveUp(e){this.up.emit(e)}moveDown(e){this.down.emit(e)}moveRight(e){this.right.emit(e)}moveLeft(e){this.left.emit(e)}onZoomIn(){this.zoomIn.emit()}onZoomOut(){this.zoomOut.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-zoom"]],outputs:{up:"up",down:"down",right:"right",left:"left",zoomIn:"zoomIn",zoomOut:"zoomOut"},decls:15,vars:0,consts:[[1,"container"],[1,"zoom"],[1,"zoom-in",3,"click"],["src","assets/icons/plus.svg"],[1,"zoom-out",3,"click"],["src","assets/icons/minus.svg"],[1,"move"],[1,"move-up",3,"mousedown","mouseup"],["src","assets/icons/expand_less.svg"],[1,"move-down",3,"mousedown","mouseup"],["src","assets/icons/expand_more.svg"],[1,"move-right",3,"mousedown","mouseup"],["src","assets/icons/chevron_right.svg"],[1,"move-left",3,"mousedown","mouseup"],["src","assets/icons/chevron_left.svg"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.NdJ("click",function(){return i.onZoomIn()}),o._UZ(3,"img",3),o.qZA(),o.TgZ(4,"div",4),o.NdJ("click",function(){return i.onZoomOut()}),o._UZ(5,"img",5),o.qZA(),o.qZA(),o.TgZ(6,"div",6),o.TgZ(7,"div",7),o.NdJ("mousedown",function(){return i.moveUp(!0)})("mouseup",function(){return i.moveUp(!1)}),o._UZ(8,"img",8),o.qZA(),o.TgZ(9,"div",9),o.NdJ("mousedown",function(){return i.moveDown(!0)})("mouseup",function(){return i.moveDown(!1)}),o._UZ(10,"img",10),o.qZA(),o.TgZ(11,"div",11),o.NdJ("mousedown",function(){return i.moveRight(!0)})("mouseup",function(){return i.moveRight(!1)}),o._UZ(12,"img",12),o.qZA(),o.TgZ(13,"div",13),o.NdJ("mousedown",function(){return i.moveLeft(!0)})("mouseup",function(){return i.moveLeft(!1)}),o._UZ(14,"img",14),o.qZA(),o.qZA(),o.qZA())},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100px;height:170px}.container[_ngcontent-%COMP%]   .zoom[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;background-color:#25252580;padding:10px;border-radius:2px}.container[_ngcontent-%COMP%]   .zoom-in[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .zoom-out[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#3e59f3;display:flex;justify-content:center;align-items:center;border-radius:2px;cursor:pointer}.container[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{background-color:#25252580;padding:10px;border-radius:2px;position:relative;margin-top:10px;width:100px;height:100px;box-sizing:border-box;display:grid;grid-template-rows:repeat(3,1fr);grid-template-columns:repeat(3,1fr)}.container[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]   .move-up[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]   .move-down[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]   .move-left[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]   .move-right[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#3e59f3;display:flex;justify-content:center;align-items:center;border-radius:2px;cursor:pointer}.container[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]   .move-up[_ngcontent-%COMP%]{grid-column:2/3;grid-row:1/1}.container[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]   .move-down[_ngcontent-%COMP%]{grid-column:2/3;grid-row:3/4}.container[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]   .move-right[_ngcontent-%COMP%]{grid-column:3/4;grid-row:2/3}.container[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]   .move-left[_ngcontent-%COMP%]{grid-column:1/2;grid-row:2/3}"]}),t})(),un=(()=>{class t{constructor(e){this.timelineService=e,this.position=0,this.playing=!1}ngOnInit(){this.sub=this.timelineService.positionChanged$.subscribe(e=>this.position)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Re))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-time-line"]],inputs:{playing:"playing"},decls:2,vars:0,template:function(e,i){1&e&&(o.TgZ(0,"p"),o._uU(1,"time-line works!"),o.qZA())},styles:["p[_ngcontent-%COMP%]{padding-left:20px}"]}),t})();const ie=function(t){return{hidden:t}};let hn=(()=>{class t{constructor(e,i){this.animationService=e,this.loadingService=i,this.playing=!1,this.loading=!1}ngOnInit(){this.loadingService.loadOperation$.subscribe(e=>{(e.id===c.AVAILABILITY_ALL_LAYERS||e.id===c.OCCUPANCY_ALL_LAYERS)&&(this.loading=e.loading)})}onPlay(){this.playing=!this.playing,this.playing?this.animationService.startAnimation():this.animationService.stopAnimation()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ue),o.Y36(te))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-play-button"]],decls:5,vars:9,consts:[[1,"container",3,"click"],[1,"play-button"],["src","assets/icons/play.svg",1,"play",3,"ngClass"],["src","assets/icons/pause.svg",1,"pause",3,"ngClass"],["src","assets/icons/spinner.gif",1,"loading",3,"ngClass"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return i.onPlay()}),o.TgZ(1,"div",1),o._UZ(2,"img",2),o._UZ(3,"img",3),o._UZ(4,"img",4),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngClass",o.VKq(3,ie,i.loading||i.playing)),o.xp6(1),o.Q6J("ngClass",o.VKq(5,ie,i.loading||!i.playing)),o.xp6(1),o.Q6J("ngClass",o.VKq(7,ie,!i.loading)))},directives:[M.mk],styles:[".container[_ngcontent-%COMP%]{width:60px;height:60px;display:flex;justify-content:center;align-items:center;background-color:#2c2727;box-sizing:border-box;cursor:pointer}.container[_ngcontent-%COMP%]:hover{background-color:#4042ce}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;box-sizing:border-box}.container[_ngcontent-%COMP%]   img.play[_ngcontent-%COMP%]{padding:5px}.container[_ngcontent-%COMP%]   img.pause[_ngcontent-%COMP%]{padding:10px}.container[_ngcontent-%COMP%]   img.loading[_ngcontent-%COMP%]{background-color:#fff;padding:5px}"]}),t})();const pn=["input"];let gn=(()=>{class t{constructor(){this.speed=3,this.step=3,this.speedChanged=new o.vpe}ngOnInit(){}increaseSpeed(){this.speed+=this.step,this.speed>100&&(this.speed=100),this.inputRef.nativeElement.value=this.speed.toString(),this.speedChanged.next(this.speed)}decreaseSpeed(){this.speed-=this.step,this.speed<0&&(this.speed=0),this.inputRef.nativeElement.value=this.speed.toString(),this.speedChanged.next(this.speed)}onSubmit(e){e.stopPropagation(),this.setSpeed()}setSpeed(){const e=parseFloat(this.inputRef.nativeElement.value);e&&e>=0?(this.speed=e,this.speedChanged.next(this.speed)):this.inputRef.nativeElement.value=this.speed.toString()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-play-speed"]],viewQuery:function(e,i){if(1&e&&o.Gf(pn,5),2&e){let r;o.iGM(r=o.CRH())&&(i.inputRef=r.first)}},outputs:{speedChanged:"speedChanged"},decls:10,vars:1,consts:[[1,"container"],[1,"button","plus",3,"click"],["src","assets/icons/add.svg"],[1,"text"],["type","text",3,"value","blur","keyup.enter"],["input",""],[1,"caption",3,"click"],[1,"button","minus",3,"click"],["src","assets/icons/remove.svg"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.NdJ("click",function(){return i.increaseSpeed()}),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"input",4,5),o.NdJ("blur",function(){return i.setSpeed()})("keyup.enter",function(a){return i.onSubmit(a)}),o.qZA(),o.TgZ(6,"div",6),o.NdJ("click",function(){return o.CHM(r),o.MAs(5).focus()}),o._uU(7,"sec"),o.qZA(),o.qZA(),o.TgZ(8,"div",7),o.NdJ("click",function(){return i.decreaseSpeed()}),o._UZ(9,"img",8),o.qZA(),o.qZA()}2&e&&(o.xp6(4),o.Q6J("value",i.speed))},styles:[".container[_ngcontent-%COMP%]{width:50px;height:60px;display:flex;flex-direction:column;justify-content:center;align-items:center;box-sizing:border-box;margin:0;padding:0;background-color:#fff}.container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:46px;height:16px;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:4px}.container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:36px;height:16px;display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:16px;height:16px;text-align:center;border:none;padding:0;margin:0}.container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{margin-top:-4px;margin-left:2px}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}"]}),t})(),fn=(()=>{class t{constructor(){this.currentTime=new Date,this.speedChanged=new o.vpe}ngOnInit(){this.interval=setInterval(()=>{this.currentTime=new Date},1e4)}ngOnDestroy(){this.interval&&clearInterval(this.interval)}onSpeedChanged(e){this.speedChanged.next(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-player"]],outputs:{speedChanged:"speedChanged"},decls:13,vars:8,consts:[[1,"container"],[1,"current-time"],[1,"time-line"],[1,"current-tab"],[1,"play"],[3,"speedChanged"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._uU(2),o.ALo(3,"date"),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"date"),o.qZA(),o.qZA(),o.TgZ(7,"div",2),o.TgZ(8,"div",3),o._UZ(9,"app-time-line"),o.qZA(),o.TgZ(10,"div",4),o._UZ(11,"app-play-button"),o.TgZ(12,"app-play-speed",5),o.NdJ("speedChanged",function(s){return i.onSpeedChanged(s)}),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.hij(" ",o.xi3(3,2,i.currentTime,"hh:mm")+" "," "),o.xp6(3),o.hij(" ",o.xi3(6,5,i.currentTime,"EEEE")," "))},directives:[un,hn,gn],pipes:[M.uU],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100px;min-width:300px;max-width:1912px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.container[_ngcontent-%COMP%]   .current-time[_ngcontent-%COMP%]{width:150px;height:40px;background-color:#0006;color:#fff;font-weight:bold;font-family:Arial,Helvetica,sans-serif;padding:10px;font-size:large;text-align:center;visibility:hidden}.container[_ngcontent-%COMP%]   .current-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:normal}@media (min-width: 768px){.container[_ngcontent-%COMP%]   .current-time[_ngcontent-%COMP%]{visibility:visible}}.container[_ngcontent-%COMP%]   .time-line[_ngcontent-%COMP%]{width:100%;min-width:300px;height:60px;position:relative}.container[_ngcontent-%COMP%]   .time-line[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{position:absolute;width:230px;height:30px;display:flex;flex-direction:row;top:-40px}@media (max-width: 767){.container[_ngcontent-%COMP%]   .time-line[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{left:0px}}@media (min-width: 768px){.container[_ngcontent-%COMP%]   .time-line[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{right:0px}}.container[_ngcontent-%COMP%]   .time-line[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{width:70px;height:40px;background-color:#6e6d6d;color:#fff;text-align:center;line-height:30px;font-family:sans-serif;font-size:15px;cursor:pointer;padding:5px;box-sizing:border-box}.container[_ngcontent-%COMP%]   .time-line[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .long-forecast[_ngcontent-%COMP%]{width:170px}.container[_ngcontent-%COMP%]   .time-line[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .observations[_ngcontent-%COMP%]{width:160px}.container[_ngcontent-%COMP%]   .time-line[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#1e4bc7;background-color:#fff;font-weight:bold}.container[_ngcontent-%COMP%]   .time-line[_ngcontent-%COMP%]   .current-tab[_ngcontent-%COMP%]{width:calc(100% - 90px);margin-left:90px;height:60px;padding:5px;background-color:#fff;box-sizing:border-box}.container[_ngcontent-%COMP%]   .time-line[_ngcontent-%COMP%]   .play[_ngcontent-%COMP%]{width:90px;height:60px;position:absolute;left:0px;bottom:0px;display:flex;flex-direction:row}.container[_ngcontent-%COMP%]   .time-line[_ngcontent-%COMP%]   .play[_ngcontent-%COMP%]   app-play-speed[_ngcontent-%COMP%]{border-right:1px solid #d4d4d4}"]}),t})();const mn=[{path:"",component:(()=>{class t{constructor(e,i,r,s,a,l,_,y){this.locationService=e,this.availabilityService=i,this.occupancyService=r,this.keyOptionsService=s,this.animationService=a,this.loadingService=l,this.moveService=_,this.zoomService=y,this.initLat=51.4532988403089,this.initLng=-.15141399330019756,this.initZoom=11}ngOnInit(){this.keyOptionsService.optionsChanged$.subscribe(e=>{this.options=e,e.availability?this.availabilityService.loadFirstLayer():this.availabilityService.clearAllLayers(),e.occupancy?this.occupancyService.loadFirstLayer():this.occupancyService.clearAllLayers()})}ngAfterViewInit(){this.map=this.mapComponent.getMap(),this.onMapReady()}onUp(e){e?this.moveService.keepMovingUp():this.moveService.stopMoving()}onDown(e){e?this.moveService.keepMovingDown():this.moveService.stopMoving()}onRight(e){e?this.moveService.keepMovingRight():this.moveService.stopMoving()}onLeft(e){e?this.moveService.keepMovingLeft():this.moveService.stopMoving()}onZoomIn(){this.zoomService.zoomIn()}onZoomOut(){this.zoomService.zoomOut()}zoomMap(e){const i=this.map.getZoom()+e;i>=0&&i<23&&this.map.setZoom(i)}onPlay(e){}onSpeedChanged(e){this.animationService.setSpeed(e)}onMapReady(){!this.map||(this.moveService.setMap(this.map),this.moveService.setLat(this.initLat),this.moveService.setLng(this.initLng),this.zoomService.setMap(this.map),this.locationService.setMap(this.map),this.availabilityService.setMap(this.map),this.occupancyService.setMap(this.map),this.locationService.locationsInitialized||this.locationService.initLocations(),this.locationService.loadLocations(this.map.getZoom(),this.map.getBounds()),this.availabilityService.loadFirstLayer(),this.occupancyService.loadFirstLayer(),this.map.addListener("idle",()=>{console.log("zoom: ",this.map.getZoom()),clearTimeout(this.waitForIdle),this.waitForIdle=setTimeout(()=>{const e=this.map.getZoom(),i=this.map.getBounds();if(this.availabilityService.setBounds(i),this.availabilityService.setZoom(e),this.occupancyService.setBounds(i),this.occupancyService.setZoom(e),e<3)return this.locationService.clearLocations(),this.availabilityService.clearFirstLayer(),void this.occupancyService.clearFirstLayer();this.locationService.locationsInitialized&&this.locationService.loadLocations(this.map.getZoom(),this.map.getBounds());const r=this.map.getCenter();this.moveService.setLat(r.lat()),this.moveService.setLng(r.lng())},300)}))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Wt),o.Y36(B),o.Y36(ee),o.Y36(S),o.Y36(Ue),o.Y36(te),o.Y36(Qt),o.Y36(Xt))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-monitoring"]],viewQuery:function(e,i){if(1&e&&o.Gf(Ie,5),2&e){let r;o.iGM(r=o.CRH())&&(i.mapComponent=r.first)}},decls:4,vars:3,consts:[[3,"lat","lng","zoom"],[3,"zoomIn","zoomOut","up","down","right","left"],[3,"speedChanged"]],template:function(e,i){1&e&&(o._UZ(0,"app-key-options"),o._UZ(1,"app-map",0),o.TgZ(2,"app-zoom",1),o.NdJ("zoomIn",function(){return i.onZoomIn()})("zoomOut",function(){return i.onZoomOut()})("up",function(s){return i.onUp(s)})("down",function(s){return i.onDown(s)})("right",function(s){return i.onRight(s)})("left",function(s){return i.onLeft(s)}),o.qZA(),o.TgZ(3,"app-player",2),o.NdJ("speedChanged",function(s){return i.onSpeedChanged(s)}),o.qZA()),2&e&&(o.xp6(1),o.Q6J("lat",i.initLat)("lng",i.initLng)("zoom",i.initZoom))},directives:[cn,Ie,dn,fn],styles:["app-key-options[_ngcontent-%COMP%]{position:absolute;top:20px;left:15px;z-index:100}app-settings[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;z-index:100}app-zoom[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:15px;z-index:99;visibility:hidden}@media (min-width: 768px){app-zoom[_ngcontent-%COMP%]{visibility:visible}}app-player[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:10px;z-index:100;min-width:300px;width:80%;max-width:768px}.loading[_ngcontent-%COMP%]{width:56px;height:56px;position:absolute;background-color:transparent;top:20px;right:30px}"]}),t})()}];let _n=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[Ne.Bz.forChild(mn)],Ne.Bz]}),t})();g(402),g(574),g(796),g(2),g(555);let kt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[kt]]}),t})(),gi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[jt]}),t})(),fi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[M.ez,_n,gi]]}),t})()}}]);